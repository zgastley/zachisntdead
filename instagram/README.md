# Instagram â†’ Site Import (Phase 1)

Goal: pull selected Instagram posts into the site repo (locally hosted images where possible), without turning the site into an automatic mirror.

## Files

- `instagram/cache.json`
  - Generated by `instagram_sync.py sync`.
  - Raw feed of recent Instagram media metadata (IDs, captions, types, permalinks).
  - Not meant to be edited manually.

- `instagram/curation.yaml`
  - Source-of-truth for what to publish.
  - Repo-tracked so decisions are visible + reviewable.

## Setup

Set env vars (we'll store these in 1Password later):

- `IG_GRAPH_ACCESS_TOKEN` (required)
- `IG_GRAPH_IG_USER_ID` (required)

## Workflow

1) Sync metadata:

```bash
python instagram_sync.py sync
```

2) Curate (interactive):

```bash
python instagram_sync.py curate
```

This writes `instagram/curation.yaml` and auto-commits it.

3) Build approved posts:

```bash
python instagram_sync.py build
```

This:
- downloads images for approved posts into `assets/instagram/`
- generates markdown stubs in `markdown/` for the chosen section (art/music/projects)
- runs `python build_markdown.py`
- commits + pushes and opens a draft PR

## Notes

- Videos: Phase 1 defaults to `embed` (Instagram permalink embed) rather than local hosting.
- Carousels: Phase 1 downloads images and can render as a simple gallery.
